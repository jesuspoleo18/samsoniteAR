function init(){$(document).foundation(),confiGenerales.init(),home.init(),producto.init(),categDepto.init(),account.init(),estatico.init(),wishlist.init(),console.log("se han iniciado los controles.")}$(function(){init()});var confiGenerales={init:function(){confiGenerales.cuenta(".usuario",".main-overlay",".navigation-container__cart"),confiGenerales.accordion(".toggle-trigger",".toggle-container"),confiGenerales.backTop(),confiGenerales.stickyNav(),confiGenerales.dropCarrito(".middle-container__content-cart",".main-overlay",".usuario"),confiGenerales.megaMenu(".main-overlay, header,.no-megamenu"),confiGenerales.loader(1500),confiGenerales.elementosFormato(),confiGenerales.compraAsyncVitrina(),confiGenerales.checkEmptyCart(),confiGenerales.quickViewAsyncBuy(),confiGenerales.wishlistOnclick(),confiGenerales.wishlistCheckOptions(),confiGenerales.masterData(),confiGenerales.fraseBusqueda(),confiGenerales.cuotas(),confiGenerales.newsletterCheckbox(),confiGenerales.lightcase(),confiGenerales.internetExplorer(),confiGenerales.resultadoBusqueda(),confiGenerales.replaceHref(),confiGenerales.promoPopUp(),confiGenerales.calculoTemplate(),$(window).on("orderFormUpdated.vtex",function(evt,orderForm){confiGenerales.checkEmptyCart()}),$(".middle-container__content-cart").on("hover",function(){confiGenerales.calculoEnvioGratis(1e3,"$1000")}),console.log("controles generales")},calculoTemplate:function(){var $middleContainerCart=$(".middle-container__content-popCart");$($middleContainerCart).prepend('<div class="popCart-mensaje__container"></div>')},calculoEnvioGratis:function(valor,valorMsg){vtexjs.checkout.getOrderForm().done(function(orderForm){var checkProperty=orderForm.totalizers,$popCartMessage=$(".popCart-mensaje__container");if(checkProperty.length>0){var val=orderForm.value,formatVal=parseFloat(val)/100,valPositive=Math.abs(formatVal),substract=valor-valPositive,substractTotal=Math.abs(substract).toString()+",00";if(valPositive>valor||valPositive==valor){var $despachoGratis='<div class="recentProductFree-container"><div class="recentProduct-contentFree"><h4>¡Felicitaciones, tu envío es gratis!</h4><p>Envío gratis por compras mayor o igual a '+valorMsg+"</p></div></div>";$popCartMessage.html(""),$popCartMessage.append($despachoGratis)}else if(valPositive<valor){var $despachoFalta='<div class="envioGratis"> <p>Agrega otro producto por:<span id="envioGratisMiniCart">'+substractTotal+"</span>y obtén <strong>envío gratis.</strong></p></div>";$popCartMessage.html(""),$popCartMessage.append($despachoFalta)}}else 0==checkProperty.length&&$popCartMessage.html("")})},getFromMasterData:function(name,where,fields){var response,apiUrl=window.location.protocol+"//api.vtex.com/samsonitear/dataentities/"+name+"/search?_where="+where+"&_fields="+fields;return $.ajax({headers:{Accept:"application/vnd.vtex.masterdata.v10.profileSchema+json"},url:apiUrl,async:!1,crossDomain:!0,type:"GET",success:function(data){response=data[0]},error:function(XMLHttpRequest,textStatus,errorThrown){response=data,console.log("textStatus: "+textStatus+" errorThrown: "+errorThrown)}}),response},postOrPatchInMasterData:function(name,email,fields,type){var apiUrl="//api.vtexcrm.com.br/samsonitear/dataentities/"+name+"/documents",who={email:email},data=$.extend(who,fields);$.ajax({headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json"},url:apiUrl,async:!1,crossDomain:!0,type:type,data:JSON.stringify(data),success:function(data){console.log("el post se envío")},error:function(XMLHttpRequest,textStatus,errorThrown){console.log("textStatus: "+textStatus+" errorThrown: "+errorThrown)}})},masterData:function(){var $btnContacto=$("#contacto-submit"),$btnPrimerCompra=$("#primeraCompra_submit"),$vpSubmit=$("#persona__submit"),$vpEmpresa=$("#empresa__submit"),$btnNewsletter=$("#newsletter_submit");$vpEmpresa.on("click",function(e){e.preventDefault(),confiGenerales.vcFormEmpresa()}),$vpSubmit.on("click",function(e){e.preventDefault(),confiGenerales.vcFormPersona()}),$btnPrimerCompra.on("click",function(e){e.preventDefault(),confiGenerales.newsletterPopUp()}),$btnContacto.on("click",function(e){e.preventDefault(),confiGenerales.contacto()}),$btnNewsletter.on("click",function(e){var $femenino=$("#sn_femenino:checked"),$masculino=$("#sn_masculino:checked");($femenino.length||$masculino.length)&&confiGenerales.newsletter(),e.preventDefault()})},vcFormPersona:function(){var datos={};datos.vp__nombre=$("#vp__nombre").val(),datos.vp__apellido=$("#vp__apellido").val(),datos.vp__email=$("#vp__email").val(),datos.vp__fono=$("#vp__fono").val(),datos.vp__asunto=$("#vp__asunto").val(),datos.vp__consulta=$("#vp__consulta").val(),$.ajax({accept:"application/vnd.vtex.ds.v10+json",contentType:"application/json; charset=utf-8",crossDomain:!0,data:JSON.stringify(datos),type:"POST",url:"//api.vtexcrm.com.br/samsonitear/dataentities/VP/documents",success:function(data){var files=["https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.4.1/sweetalert2.all.min.js"];$.when.apply($,$.map(files,function(file){return $.getScript(files)})).then(function(){swal({title:"Sus datos han sido enviado con éxito, pronto nos comunicaremos con usted.",type:"success",confirmButtonColor:"#003a7c",confirmButtonText:"OK"})},function(jqxhr,textStatus,errorThrown){console.log(textStatus)}),confiGenerales.clearData()},error:function(data){var files=["https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.4.1/sweetalert2.all.min.js"];$.when.apply($,$.map(files,function(file){return $.getScript(files)})).then(function(){swal({title:"Llene todos los campos del formulario o revise que el correo esté bien escrito.",type:"error",confirmButtonColor:"#E4002B",confirmButtonText:"OK"})},function(jqxhr,textStatus,errorThrown){console.log(textStatus)})}})},vcFormEmpresa:function(){var datos={};datos.ve__empresa=$("#ve__empresa").val(),datos.ve__razonSocial=$("#ve__razonSocial").val(),datos.ve__cuit=$("#ve__cuit").val(),datos.ve__email=$("#ve__email").val(),datos.ve__nombreContacto=$("#ve__nombreContacto").val(),datos.ve__fono=$("#ve__fono").val(),datos.ve__asunto=$("#ve__asunto").val(),datos.ve__consulta=$("#ve__consulta").val(),$.ajax({accept:"application/vnd.vtex.ds.v10+json",contentType:"application/json; charset=utf-8",crossDomain:!0,data:JSON.stringify(datos),type:"POST",url:"//api.vtexcrm.com.br/samsonitear/dataentities/VE/documents",success:function(data){var files=["https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.4.1/sweetalert2.all.min.js"];$.when.apply($,$.map(files,function(file){return $.getScript(files)})).then(function(){swal({title:"Sus datos han sido enviado con éxito, pronto nos comunicaremos con usted.",type:"success",confirmButtonColor:"#003a7c",confirmButtonText:"OK"})},function(jqxhr,textStatus,errorThrown){console.log(textStatus)}),confiGenerales.clearData()},error:function(data){var files=["https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.4.1/sweetalert2.all.min.js"];$.when.apply($,$.map(files,function(file){return $.getScript(files)})).then(function(){swal({title:"Llene todos los campos del formulario o revise que el correo esté bien escrito.",type:"error",confirmButtonColor:"#E4002B",confirmButtonText:"OK"})},function(jqxhr,textStatus,errorThrown){console.log(textStatus)})}})},newsletter:function(){var newsletter={mail:"",nombre:""},datos={};datos.sn_name=$("#sn_name").val(),datos.sn_email=$("#sn_email").val(),datos.sn_femenino=$("#sn_femenino:checked").val(),datos.sn_masculino=$("#sn_masculino:checked").val(),newsletter.mail=$("#sn_email").val(),newsletter.nombre=$("#sn_name").val();var Attr={firstName:newsletter.nombre,isNewsletterOptIn:!0};if(void 0!=confiGenerales.getFromMasterData("CL","email="+newsletter.mail,"email")){var responseNews=confiGenerales.getFromMasterData("CL","email="+newsletter.mail,"isNewsletterOptIn").isNewsletterOptIn;if(console.log(responseNews),0==responseNews||null==responseNews)confiGenerales.postOrPatchInMasterData("CL",newsletter.mail,Attr,"PATCH"),$.ajax({accept:"application/vnd.vtex.ds.v10+json",contentType:"application/json; charset=utf-8",crossDomain:!0,data:JSON.stringify(datos),type:"POST",url:"//api.vtexcrm.com.br/samsonitear/dataentities/SN/documents",success:function(data){var files=["https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.4.1/sweetalert2.all.min.js"];$.when.apply($,$.map(files,function(file){return $.getScript(files)})).then(function(){swal({title:"Felicitaciones, ahora empezará a recibir actualizaciones y ofertas especiales por correo electrónico.",type:"success",confirmButtonColor:"#003a7c",confirmButtonText:"OK"})},function(jqxhr,textStatus,errorThrown){console.log(textStatus)}),confiGenerales.clearData()},error:function(data){var files=["https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.4.1/sweetalert2.all.min.js"];$.when.apply($,$.map(files,function(file){return $.getScript(files)})).then(function(){swal({title:"Verifique que su correo esté bien escrito y que los campos Femenino o Másculino estén marcados.",type:"error",confirmButtonColor:"#E4002B",confirmButtonText:"OK"})},function(jqxhr,textStatus,errorThrown){console.log(textStatus)})}});else{var files=["https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.4.1/sweetalert2.all.min.js"];$.when.apply($,$.map(files,function(file){return $.getScript(files)})).then(function(){swal({title:"Usted ya está subscrito a nuestro newsletter.",type:"info",confirmButtonText:"OK"}),confiGenerales.clearData()},function(jqxhr,textStatus,errorThrown){console.log(textStatus)})}}else console.log("no existe"),confiGenerales.postOrPatchInMasterData("CL",newsletter.mail,Attr,"POST"),$.ajax({accept:"application/vnd.vtex.ds.v10+json",contentType:"application/json; charset=utf-8",crossDomain:!0,data:JSON.stringify(datos),type:"POST",url:"//api.vtexcrm.com.br/samsonitear/dataentities/SN/documents",success:function(data){var files=["https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.4.1/sweetalert2.all.min.js"];$.when.apply($,$.map(files,function(file){return $.getScript(files)})).then(function(){swal({title:"Sus datos han sido registrados con éxito.",type:"success",confirmButtonColor:"#003a7c",confirmButtonText:"OK"})},function(jqxhr,textStatus,errorThrown){console.log(textStatus)}),confiGenerales.clearData()},error:function(data){var files=["https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.4.1/sweetalert2.all.min.js"];$.when.apply($,$.map(files,function(file){return $.getScript(files)})).then(function(){swal({title:"Verifique que su correo esté bien escrito y que los campos Femenino o Másculino estén marcados.",type:"error",confirmButtonColor:"#E4002B",confirmButtonText:"OK"})},function(jqxhr,textStatus,errorThrown){console.log(textStatus)})}})},newsletterPopUp:function(){var newsletter={mail:""},$emailExistMessage=$(".coverPop__emailExiste"),datos={};datos.pc_email=$("#pc_email").val(),newsletter.mail=$("#pc_email").val();if(void 0!=confiGenerales.getFromMasterData("CL","email="+newsletter.mail,"email")){var responseNews=confiGenerales.getFromMasterData("CL","email="+newsletter.mail,"primeraCompra").primeraCompra;console.log("respuesta de primera compra: "+responseNews),$emailExistMessage.fadeIn("slow")}else console.log("no existe"),$emailExistMessage.fadeOut("slow"),confiGenerales.postOrPatchInMasterData("CL",newsletter.mail,{primeraCompra:!0},"POST"),$.ajax({accept:"application/vnd.vtex.ds.v10+json",contentType:"application/json; charset=utf-8",crossDomain:!0,data:JSON.stringify(datos),type:"POST",url:"//api.vtexcrm.com.br/samsonitear/dataentities/PC/documents",success:function(data){var files=["https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.4.1/sweetalert2.all.min.js"];$.when.apply($,$.map(files,function(file){return $.getScript(files)})).then(function(){swal({title:"Felicitaciones, su código es:",html:'<div class="promoCode__container"><h1 class="promoCode__text">10%OFFSAM</h1><p class="promoCode__notify">Lo hemos enviado a su correo eléctronico.</p></div>',type:"success",confirmButtonColor:"#003a7c",confirmButtonText:"OK"})},function(jqxhr,textStatus,errorThrown){console.log(textStatus)}),CoverPop.close()},error:function(data){var files=["https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.4.1/sweetalert2.all.min.js"];$.when.apply($,$.map(files,function(file){return $.getScript(files)})).then(function(){swal({title:"Verifique que su correo esté bien escrito.",type:"error",confirmButtonColor:"#E4002B",confirmButtonText:"OK"})},function(jqxhr,textStatus,errorThrown){console.log(textStatus)})}})},clearData:function(){var $accepted=$(".estatico"),$content=$(".footer-newsletter__content"),$input=$("input:checkbox"),$nombre=$("#sn_name"),$vcInputs=$("#vp__nombre,#vp__apellido,#vp__email,#vp__fono,#vp__asunto,#vp__consulta,#ve__razonSocial,#ve__cuit,#ve__email,#ve__nombreContacto,#ve__fono,#ve__asunto,#ve__consulta"),$email=$("#sn_email");$content.find($input).removeAttr("checked"),$nombre.val(""),$email.val(""),$accepted.length&&($(".estatico-content__contenido input[type='text'],.estatico-content__contenido input[type='email']").val(""),$vcInputs.val(""))},promoPopUp:function(){var $a=$(".main-overlay"),$home=$(".home");$home.length&&(CoverPop.start({coverId:"CoverPop-cover",cookieName:"_CoverPop",closeOnEscape:!0,delay:1e3,expires:1,onPopUpOpen:function(){$a.addClass("display"),$home.addClass("coverPopDisplay"),$a.on("click",function(){CoverPop.close()})},onPopUpClose:function(){$a.removeClass("display"),$home.removeClass("coverPopDisplay")}}),CoverPop.start())},mainLazyLoad:function(){var files=["https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/8.2.0/lazyload.min.js"];$.when.apply($,$.map(files,function(file){return $.getScript(files)})).then(function(){$(".categoria, .departamento, .home, .producto, .resultado-busca, .brand");var $productoContainer=$(".producto-prateleira");$(".producto");$productoContainer.each(function(){var $thisImg=$(this).find(".producto-prateleira__imagen--url .imagen div"),$thisDiv=$(this).find(".producto-prateleira__imagen--url .imagen"),$thisParent=$(this).find(".producto-prateleira__imagen--url .imagen [data-was-processed='true']");$thisImg.length?$thisParent.length&&$thisParent.parent().addClass("load"):($thisDiv.append("<div></div>"),$thisParent.length&&$thisParent.parent().addClass("load"))});new LazyLoad({elements_selector:"img",threshold:50,callback_load:function(element){},callback_set:function(element){},callback_processed:function(elementsLeft){}})},function(jqxhr,textStatus,errorThrown){console.log(textStatus)})},imprimirLista:function(){if($(".wishlist").length){var objeto=document.getElementById("giftlistproduct"),ventana=window.open("","_blank");ventana.document.write(objeto.innerHTML),ventana.document.close(),ventana.print(),ventana.close()}},resultadoBusqueda:function(){if($("body.resultado-busca, body.brand").length){var url=window.location.pathname,coleccion=window.location.href,$coleccionParent=$(".resultado-busca-result__content"),urlText=url.split("/")[1],$resultText=$(".resultado-busca-result .result"),$filter=$(".Hide.HideMarca"),$body=$("body.resultado-busca,body.brand"),$hideSideBar=$(".content__aside");0==$filter.length&&($hideSideBar.remove(),$body.addClass("no-encontro-filtros")),coleccion.includes("busca?fq")&&$coleccionParent.html("Os resultados da <strong>coleção</strong> são:"),$resultText.html(decodeURIComponent(urlText))}},FormatoDecimales:function(seletor){$(seletor).each(function(){var novoConteudoPreco=$(this).text();if(novoConteudoPreco.indexOf(",")>-1){novoConteudoPreco=novoConteudoPreco.replace(/([$\s\d,]*)([.\d]+)/gm,"$1").replace(",","."),$(this).html(novoConteudoPreco)}})},elementosFormato:function(){function porcentaje(){$(".porcentaje-content").each(function(){var valor=parseInt($(this).text());0==valor?$(this).remove():$(this).text(valor.toFixed()+"%")})}porcentaje(),$(document).ajaxStop(function(){porcentaje()})},compraAsyncVitrina:function(){var $contentAsync=$(".producto-prateleira__info--precio-container"),$btnAsync=$(".btn-add-buy-button-asynchronous");$contentAsync.each(function(){var $thisBtn=$(this).find($btnAsync);$thisBtn.unbind("click"),$thisBtn.bind("click",function(e){var param=$(this).attr("href").split("?")[1].split("&"),item={id:param[0].split("=")[1],quantity:param[1].split("=")[1],seller:param[2].split("=")[1]};e.preventDefault(),vtexjs.checkout.addToCart([item],null,1).done(function(orderForm){vtexjs.checkout.getOrderForm().done(function(orderForm){var val=orderForm.value,formatVal=parseFloat(val)/100,valPositive=Math.abs(formatVal),substract=1e3-valPositive,$recentProduct='<div class="recentProduct-container"> <div class="recentProduct-content"></div> <div class="envioGratis"> <p>Agrega otro producto por:<span id="envioGratis">'+(Math.abs(substract).toString()+",00")+"</span>y obtén<strong> envío gratis.</strong></p></div></div>";valPositive>1e3||1e3==valPositive?(console.log("es mayor"),0==$(".recentProductFree-container").length&&($(".recentProduct-container").remove(),$("#agregadoExitoTitle").after('<div class="recentProductFree-container"><div class="recentProduct-contentFree"><h4>¡Felicitaciones, tu envío es gratis!</h4><p>Envío gratis por compras mayor o igual a $1000</p></div></div>'))):valPositive<1e3&&(console.log("es menor"),0==$(".recentProduct-container").length&&($(".recentProductFree-container").remove(),$("#agregadoExitoTitle").after($recentProduct)))}),$("#agregadoExito").foundation("reveal","open"),console.log(orderForm)})})})},quickViewAsyncBuy:function(){$("#TB_iframeContent",top.document).on("load",function(){$(".TB_compraExitosa");var $thisBtn=$(".buy-button.buy-button-ref"),$descripcion=$(".quickview-container__informacion--basica-content .descripcion-larga"),$ean=$(".quickview-container__informacion--basica-content .ean"),producto={id:"",descripcion:"",ean:"",caracteristica:"",stock:"",marca:""};$(".notifyme-client-name"),$(".notifyme-client-email");vtexjs.catalog.getCurrentProductWithVariations().done(function(product){producto.stock=product.available,producto.id=product.productId,console.log(product),$.ajax({url:"https://samsonitear.vtexcommercestable.com.br/api/catalog_system/pub/products/search/?fq=productId:"+producto.id,dataType:"json",type:"GET",crossDomain:!0,success:function(data){producto.descripcion=data[0].description,producto.ean=data[0].items[0].ean,producto.marca=data[0].brand;var $template='<div class="basica-marca">'+producto.marca+"</div>";$($template).insertAfter(".basica-nombre"),$descripcion.append(producto.descripcion),$ean.append(producto.ean),function(){var $location=$(".quickview-container__informacion--basica-content");"American Tourister"==producto.marca?$location.prepend('<div class="logo-marca"><img src=/arquivos/logo-AT.png></div>'):"Samsonite Black Label"==producto.marca?$location.prepend('<div class="logo-marca"><img src=/arquivos/logo-sbrNegro-3.png></div>'):"Samsonite"==producto.marca&&$location.prepend('<div class="logo-marca"><img src=/arquivos/logo-sbrAzul-3.png></div>')}(),function(){var files=["/arquivos/readmore.min.js"];$.when.apply($,$.map(files,function(file){return $.getScript(files)})).then(function(){var $el=$(".quickview-container__informacion--basica-content .descripcion-larga");$($el).readmore({speed:100,collapsedHeight:50,moreLink:'<a class="seeMore" href="#">Leer más</a>',lessLink:'<a class="seeLess" href="#">Leer menos</a>'})},function(jqxhr,textStatus,errorThrown){console.log(textStatus)})}(),function(){var $texto=$(".quickview-container__informacion .descripcion-larga").text(),$container=$(".quickview-container__informacion .descripcion-larga"),$result=$texto.replace(/\*/g,'<p class="space"></p><span class="dot">• </span>');$container.html($result)}(),console.log(data)}}),$thisBtn.unbind("click"),$thisBtn.bind("click",function(e){var param=$(this).attr("href").split("?")[1].split("&"),item={id:param[0].split("=")[1],quantity:param[1].split("=")[1],seller:param[2].split("=")[1]};e.preventDefault(),vtexjs.checkout.getOrderForm().done(function(e){vtexjs.checkout.addToCart([item],null,1).done(function(orderForm){window.parent.confiGenerales.refreshMiniCart()})})}),function(){var $el=$(".quickview-container__imagen--content .thumbs li"),$init=$(".quickview-container__imagen--content .thumbs");$el.length>3&&$init.slick({arrows:!0,prevArrow:"<i class='fa fa-angle-left' aria-hidden='true'></i>",nextArrow:"<i class='fa fa-angle-right' aria-hidden='true'></i>",autoplay:!1,button:!1,dots:!1,fade:!1,infinite:!0,slidesToScroll:1,slidesToShow:3,speed:800,useTransform:!0})}()})})},refreshMiniCart:function(){vtexjs.checkout.getOrderForm(),$("#TB_overlay",document.body).remove(),$("#TB_window",document.body).remove();var files=["https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.4.1/sweetalert2.all.min.js"];$.when.apply($,$.map(files,function(file){return $.getScript(files)})).then(function(){swal({title:"Producto Agregado",type:"success",confirmButtonColor:"#003a7c",cancelButtonColor:"#bbb",cancelButtonText:"Seguir Comprando",confirmButtonText:"Pagar",showCancelButton:!0,onOpen:function(swal){$(swal).find(".swal2-confirm").off().click(function(e){window.location.href="/checkout/"})}})},function(jqxhr,textStatus,errorThrown){console.log(textStatus)})},wishlistOnclick:function(){var loginCheck={login:""},$mainContent=$(".producto-prateleira__imagen");vtexjs.checkout.getOrderForm().done(function(orderForm){if(loginCheck.login=orderForm.loggedIn,console.log("cliente logeado: "+orderForm.loggedIn),1==loginCheck.login){var $a=$(".login-wishlist"),$checkActive=$(".producto-prateleira__info--wishlist .product-insertsku");$a.remove(),$checkActive.addClass("active"),console.log("estás registrado"),$mainContent.each(function(){$(this).find(".insert-sku-checkbox").on("change",function(){$(this).is(":checked")?$(".glis-popup-link").click():console.log("no estoy capturando el evento")})})}else 0==loginCheck.login&&(console.log("no estás registrado"),$mainContent.each(function(){var $el=$(".producto-prateleira__info--wishlist"),$loginBtn=$(".ajax-content-loader").find(".glis-link.must-login").attr("href");$(this).find($el).html('<div class="login-wishlist"> <a class="login-wishlist__trigger"></a> </div>');$(this).find(".login-wishlist__trigger").on("click",function(){console.log($loginBtn);var files=["https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.4.1/sweetalert2.all.min.js"];$.when.apply($,$.map(files,function(file){return $.getScript(files)})).then(function(){swal({title:"Debes estar registrado para añadir a tus favoritos.",type:"info",confirmButtonColor:"#003a7c",cancelButtonColor:"#bbb",cancelButtonText:"cancelar",confirmButtonText:"Login",showCancelButton:!0,onOpen:function(swal){$(swal).find(".swal2-confirm").off().click(function(e){window.location.href="/login?ReturnUrl=%2f"})}})},function(jqxhr,textStatus,errorThrown){console.log(textStatus)})})}))})},wishlistCheckOptions:function(){var $listname=$("#giftlistname"),$listurl=$("#giftlisturl"),$alwaysChecked=$("#giftlistaccept,#giftlistispublic-no");$listname.on("keyup",function(){var $value=$(this).val();$listurl.val($value)}),$alwaysChecked.attr("checked","checked")},cuenta:function(el,exit,secondExit){$(window).width()>768&&($(el).on("hover",function(){$(".usuario__dropdown-menu").addClass("overlay-dropdown",500),$(exit).addClass("displayAccount",500)}),$("header").on("hover",exit,secondExit,function(){$(".usuario__dropdown-menu").removeClass("overlay-dropdown",500),$(exit).removeClass("displayAccount",500)}),$(".top-bar__content").on("mouseleave",function(){$(".usuario__dropdown-menu").removeClass("overlay-dropdown",500),$(exit).removeClass("displayAccount",500)}),$(".usuario").prevAll().on("hover",function(){$(".usuario__dropdown-menu").removeClass("overlay-dropdown",500),$(exit).removeClass("displayAccount",500)}))},dropCarrito:function(el,exit,secondExit){$(window).width()>768&&($(el).on("hover",function(){$(".middle-container__content-popCart").addClass("display",500),$(exit).addClass("display",500)}),$("header").on("hover",exit,secondExit,function(){$(".middle-container__content-popCart").removeClass("display",500),$(exit).removeClass("display",500)}),$(".middle-container__content-cart").prevAll().on("hover",function(){$(".middle-container__content-popCart").removeClass("display",500),$(exit).removeClass("display",500)}),$(".middle-container").on("mouseleave",function(){$(".middle-container__content-popCart").removeClass("display",500),$(exit).removeClass("display",500)}))},checkEmptyCart:function(){var $emptyBag=$(".middle-container__content-popCart .emptyBag"),$NoEmptyBag=$(".middle-container__content-popCart .emptyBag.active"),$cartNumber=$(".middle-container__content-cart"),$cartFooter=$(".middle-container__content-popCart .cartFooter"),$monto=$(".middle-container__content-popCart .vtexsc-text").text().replace("$",""),$montoValor=parseFloat($monto);0==$montoValor&&($emptyBag.addClass("active"),$cartNumber.removeClass("active"),$cartFooter.removeClass("clearfix")),$montoValor>0&&($NoEmptyBag.removeClass("active"),$cartNumber.addClass("active"),$cartFooter.removeClass("clearfix"))},backTop:function(){var $back_to_top=$(".back-to-top");$(window).scroll(function(){$(this).scrollTop()>300?$back_to_top.addClass("back-to-top-is-visible"):$back_to_top.removeClass("back-to-top-is-visible back-to-top-fade-out"),$(this).scrollTop()>1200&&$back_to_top.addClass("back-to-top-fade-out")}),$back_to_top.on("click",function(event){event.preventDefault(),$("body,html").animate({scrollTop:0},700)})},stickyNav:function(){var $responsive=$(window).width(),$quickview=$("body.quickview"),$mobileNav=$("#mobile-nav");if(0==$quickview.length){var files=["https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.js"];$.when.apply($,$.map(files,function(file){return $.getScript(files)})).then(function(){if($responsive>650){$mobileNav.removeClass("sticky");var myElement=document.getElementById("headRoomAllNav");new Headroom(myElement).init()}else $responsive<650&&($mobileNav.removeClass("sticky"),$(window).scroll(function(){$(this).scrollTop()>1?($mobileNav.addClass("sticky"),$mobileNav.removeClass("fixed")):$mobileNav.removeClass("fixed sticky")}))},function(jqxhr,textStatus,errorThrown){console.log(textStatus)})}},megaMenu:function(exit){if($(window).width()>768){var $navigationMenuItem=$(".navigation__menu-content a"),$megamenu=$(".navigation__megamenu-content");$navigationMenuItem.each(function(){$(this).on("mouseenter",function(){var $menuItemAttr=$(this).attr("class");confiGenerales.menuItems($(this),exit,".main-overlay"),$megamenu.each(function(){var $megamenuAttr=$(this).attr("id");$menuItemAttr==$megamenuAttr&&($(this).addClass("display"),$(this).siblings().removeClass("display"))}),$(exit).on("mouseenter",function(){$megamenu.removeClass("display")})})})}},menuItems:function(ele,exit,overlay){ele.addClass("active"),$(overlay).addClass("display"),ele.siblings().removeClass("active"),$(exit).on("hover",function(){ele.removeClass("active"),$(overlay).removeClass("display"),$(exit).removeClass("active")})},accordion:function(trigger,content){$(window).width()<425?(console.log("accordion"),$(content).hide(),$(trigger).click(function(){return $(this).toggleClass("active").nextAll().slideToggle("slow"),!1})):$(content).show()},loader:function(time){$(".home");var $loader=$(".main-loader__container");setTimeout(function(){$($loader).fadeOut("slow")},time)},getSAC:function(el,height){var $el=$(".sac-container");$(document).scroll(function(){$(this).scrollTop()>height?$(el).fadeIn():$(el).fadeOut()}),$el.on("click",function(){$(this).remove();var files=["/files/smx-zendesk.js"];$.when.apply($,$.map(files,function(file){return $.getScript(files)})).then(function(){setTimeout(function(){$(".zopim iframe").contents().find(".border_overlay").click()},800)},function(jqxhr,textStatus,errorThrown){})})},fraseBusqueda:function(){var $buscavazia=$(".estatico.buscavazia"),$resultadoBusca=$(".resultado-busca"),$productoEncontrado=$(".vitrine.resultItemsWrapper");if($buscavazia.length){var url=window.location.href.split("=")[1];($el=$(".frase__content")).append(url)}else if($resultadoBusca.length){url=window.location.href.split("/")[3];var $body=$("body.resultado-busca"),$parent=$(".resultado-content"),$el=$(".resultado-content .resultado"),$template='<div class="cuatro__container"> <div class="cuatro__container--img"> <img src="/arquivos/sbr-sin-resultado.png" /> </div> <div class="cuatro__container--texto"> <div class="texto__content">Sua busca para:<strong class="resultado">'+url+"</strong>não encontrou nenhum resultado.</div> </div> </div>";$productoEncontrado.length?$el.append(url):($body.addClass("no-encontro"),$parent.html($template))}},cuotas:function(){var $productBlock=$(".prateleira li"),$producto=$(".produto"),fichaProducto={id:""};if($(window).width()>768&&$productBlock.each(function(){$(this).on("mouseenter",function(){if(0==$(this).find(".cuotas__text").length){var productId=$(this).find(".wrapper-buy-button-asynchronous .btn-add-buy-button-asynchronous").attr("id").split("idprod")[1];$(this).find(".producto-prateleira__info--buy-btn").before('<div class="cuotas__container"><div class="cuotas__content"><p class="cuotas__text">3 cuotas de <span id="cuotas"></span> aprox. Sin interés.</p></div></div>');var $idCuotas=$(this).find("#cuotas");$.ajax({url:"https://samsonitear.vtexcommercestable.com.br/api/catalog_system/pub/products/search/?fq=productId:"+productId,dataType:"json",type:"GET",crossDomain:!0,success:function(data){console.log(data);productPrice=data[0].items[0].sellers[0].commertialOffer.Price,$idCuotas.text(function(el){return parseFloat(el/3).toFixed(0)}(productPrice)+",00")}})}})}),$producto.length){$(".basica-precio").after('<div class="cuotas__container"><div class="cuotas__content"><p class="cuotas__text">3 cuotas de <span id="cuotas"></span> aprox. Sin interés.</p></div></div>');var $idCuotas=$(".cuotas__container").find("#cuotas");vtexjs.catalog.getCurrentProductWithVariations().done(function(product){fichaProducto.id=product.productId}),$.ajax({url:"https://samsonitear.vtexcommercestable.com.br/api/catalog_system/pub/products/search/?fq=productId:"+fichaProducto.id,dataType:"json",type:"GET",crossDomain:!0,success:function(data){console.log(data);productPrice=data[0].items[0].sellers[0].commertialOffer.Price,$idCuotas.text(function(el){return parseFloat(el/3).toFixed(0)}(productPrice)+",00")}})}},newsletterCheckbox:function(){var $femenino=$("#sn_femenino"),$masculino=$("#sn_masculino");$femenino.on("change",function(){$(this).addClass("visto-femenino"),$(".newsletter__masculino #sn_masculino").removeClass("visto-masculino")}),$masculino.on("change",function(){$(this).addClass("visto-masculino"),$(".newsletter__femenino #sn_femenino").removeClass("visto-femenino")})},lightcase:function(){$("a[data-rel^=lightcase]").lightcase()},replaceHref:function(){if($(".categoria, .departamento, .home, .producto, .resultado-busca, .brand").length){$(".thickbox").each(function(key,val){$(val).attr("href",$(val).attr("href").replace("http://","https://"))})}},internetExplorer:function(){window.ActiveXObject||window}},home={init:function(){home.carousel(".home-slide",".carousel-populares,.carousel-novedades",".carousel-agregadoExito"),console.log("controles del home")},carousel:function(uno,dos,tres){$(".home").length?($(".helperComplement").remove(),$("#mas-populares .prateleira").children().addClass("carousel-populares"),$("#novedades .prateleira").children().addClass("carousel-novedades"),$(".agregadoExito-productos .prateleira").children().addClass("carousel-agregadoExito"),$(uno).slick({arrows:!0,autoplay:!0,autoplaySpeed:2500,button:!1,dots:!1,fade:!1,infinite:!0,slidesToScroll:1,slidesToShow:1,speed:800,useTransform:!0,lazyLoad:"ondemand",responsive:[{breakpoint:650,settings:{autoplay:!0,slidesToShow:1,slidesToScroll:1,infinite:!1,arrows:!0}}]}),$(dos).on("init",function(){$(this).addClass("active")}),setTimeout(function(){$(dos).slick({autoplay:!1,autoplaySpeed:2500,slide:"li",slidesToScroll:4,slidesToShow:4,speed:1e3,lazyLoad:"ondemand",responsive:[{breakpoint:980,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:650,settings:{slidesToShow:2,slidesToScroll:2}}]})},1e3),$(window).on("open.fndtn.reveal",function(){$(tres).on("init",function(){$(this).addClass("active")}),setTimeout(function(){$(tres).slick({autoplay:!0,autoplaySpeed:2500,slide:"li",slidesToScroll:1,slidesToShow:3,speed:500,lazyLoad:"ondemand",responsive:[{breakpoint:980,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:650,settings:{slidesToShow:2,slidesToScroll:2}}]})},1e3)}),$(window).on("close.fndtn.reveal",function(){$(tres).on("destroy",function(){$(this).removeClass("active")}),$(tres).slick("unslick")}),$(".home-slide, .carousel-populares,.carousel-novedades, .carousel-agregadoExito").on("beforeChange",function(event,slick,currentSlide,nextSlide){})):($(".helperComplement").remove(),$(".agregadoExito-productos .prateleira").children().next().addClass("carousel-agregadoExito"),$(tres).on("init",function(){$(this).addClass("active")}),$(window).on("open.fndtn.reveal",function(){setTimeout(function(){$(tres).slick({autoplay:!0,autoplaySpeed:2500,slide:"li",slidesToScroll:1,slidesToShow:3,speed:500,lazyLoad:"ondemand",responsive:[{breakpoint:980,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:650,settings:{slidesToShow:2,slidesToScroll:2}}]})},1e3)}),$(window).on("close.fndtn.reveal",function(){$(tres).on("destroy",function(){$(this).removeClass("active")}),$(tres).slick("unslick")}))}},producto={init:function(){$("body.produto").length&&(producto.qtdControl(),producto.textoProducto(),producto.carousel(".carousel-interesar"),producto.compraFichaProducto(),producto.productoSticky(),producto.miniatura(),producto.infoProducto(),producto.anchorDescripcion(),producto.tallasColores(),producto.formatoPrecioFichaProductoReplace(".skuBestPrice"),setInterval(producto.traducciones,500),console.log("controles de producto"))},traducciones:function(){var $wishlistBtn=$(".glis-link.must-login:contains('Faça login pra adicionar produtos à lista')");$wishlistBtn.length&&$wishlistBtn.text("Ingrese para agregar a sus favoritos")},formatoPrecioFichaProducto:function(seletor){$(seletor).each(function(){var novoConteudoPreco=$(this).text();if(novoConteudoPreco.indexOf(",")>-1){novoConteudoPreco=novoConteudoPreco.replace(/([$\s\d.]*)([,\d]+)/gm,"$1").replace(",",""),$(this).html(novoConteudoPreco)}})},formatoPrecioFichaProductoReplace:function(seletor){$(seletor).each(function(){var novoConteudoPreco=$(this).text();if(novoConteudoPreco.indexOf(",")>-1){novoConteudoPreco=novoConteudoPreco.replace(".","-").replace(",",".").replace("-",","),$(this).html(novoConteudoPreco)}})},elementosFormato:function(){var $ajaxStopElems=".skuBestPrice, .price-best-price, span.vtexsc-text, .bestPrice, .orders .db.mt0.mb2.f6.fw6 span,.orders .db.w-100.f6.fw5.mid-gray.tr.tl-l.f5-l span";producto.formatoPrecioFichaProducto($ajaxStopElems),$(document).ajaxStop(function(){producto.formatoPrecioFichaProducto($ajaxStopElems)})},anchorDescripcion:function(){var $root=$("html, body"),$trigger=$(".descripcion-anchor");$(window).width()<768?$($trigger).on("click",function(){return $root.animate({scrollTop:700},500),!1}):$($trigger).on("click",function(){return $root.animate({scrollTop:500},500),!1})},qtdControl:function(){var $btnComprarProduto=$(".buy-button.buy-button-ref"),qty=($(this).find(".notifyme.sku-notifyme:visible"),{cantidad:""});if($btnComprarProduto.length){var $recebeQtyForm=$btnComprarProduto.parents(".compra-qtd-btn");$recebeQtyForm.length&&(vtexjs.catalog.getCurrentProductWithVariations().done(function(product){qty.cantidad=product.skus[0].availablequantity}),$recebeQtyForm.prepend('<div class="pull-left box-qtd">   <input type="text" class="qtd pull-left" value="1" />   <div class="bts pull-left">       <button class="btn btn-mais">+</button>       <button class="btn btn-menos">-</button>   </div></div>'),$(document).on("keypress",".compra-qtd-btn .box-qtd .qtd",function(e){var tecla=window.event?event.keyCode:e.which;return tecla>47&&tecla<58||(8==tecla||0==tecla)}),$(document).on("keyup",".compra-qtd-btn .box-qtd .qtd",function(e){$(".compra-qtd-btn .box-qtd .qtd").val($(this).val())}),$(document).on("blur",".compra-qtd-btn .box-qtd .qtd",function(e){var $this=$(this);""===$this.val()||parseInt($this.val())<1?$(".compra-qtd-btn .box-qtd .qtd").val(1):$(".compra-qtd-btn .box-qtd .qtd").val($this.val())}),$(document).on("click",".compra-qtd-btn .box-qtd .btn",function(){var $this=$(this),$qtd=$(".compra-qtd-btn .box-qtd .qtd"),valor=parseInt($qtd.val());$this.hasClass("btn-mais")?($qtd.val(valor+1),parseInt($(".compra-qtd-btn .box-qtd .qtd").val())===qty.cantidad?(console.log("tope de cantidad"),$(".btn-mais").prop("disabled",!0)):console.log("no se está ejecutando el anterior")):$this.hasClass("btn-menos")&&valor>1&&($qtd.val(valor-1),$(".btn-mais").removeAttr("disabled"))}))}},textoProducto:function(){var producto={id:"",descripcion:"",ean:"",caracteristica:"",stock:"",marca:"",cantidad:""},$ean=$(".ean"),$descripcion=$(".descripcion-content .productDescription");$(".descripcion-content .caracteristicas"),$(".notifyme-client-name"),$(".notifyme-client-email");vtexjs.catalog.getCurrentProductWithVariations().done(function(product){var $dispMark=$(".compra-stock-content .texto"),$disp=$(".compra-stock-content .disponibilidad");if(producto.stock=product.available,producto.cantidad=product.skus[0].availablequantity,"false"===JSON.stringify(producto.stock)){var $erase=$(".pull-left.box-qtd, .despacho, .producto-sticky-container--compra .buy-button.buy-button-ref, .producto-sticky-container--compra .portal-notify-me-ref, .basica-precio .cuotas-container, .compra-stock"),$toAppend=$(".producto-sticky-container--compra .compra-qtd-btn");$erase.remove(),$toAppend.append('<h2 class="no-disponible">Produto não disponível</h2>')}else console.log("available");producto.cantidad>0?($disp.append(producto.cantidad),$dispMark.addClass("green"),1===parseInt($(".disponibilidad").text())?$(".btn-mais").prop("disabled",!0):$(".btn-mais").removeAttr("disabled")):($disp.append(producto.cantidad),$dispMark.addClass("red")),producto.id=product.productId,console.log(product)}),$.ajax({url:"https://samsonitear.vtexcommercestable.com.br/api/catalog_system/pub/products/search/?fq=productId:"+producto.id,dataType:"json",type:"GET",crossDomain:!0,success:function(data){console.log(data),producto.descripcion=data[0]["Descripción Larga"],producto.ean=data[0].items[0].ean,producto.marca=data[0].brand;var $template='<div class="basica-marca">'+producto.marca+"</div>",$responsive=$(window).width();$descripcion.append(producto.descripcion),$ean.append(producto.ean),$responsive<768?$($template).insertBefore(".basica-nombre"):$($template).insertAfter(".basica-nombre"),function(){var $texto=$(".caracteristicas-content .productDescription").text(),$container=$(".caracteristicas-content .productDescription"),$result=$texto.replace(/\*/g,'<p class="space"></p><span class="dot">• </span>');$container.html($result)}(),function(){var $locationMobile=$(".producto-container-mobile .basica-marca"),$location=$(".producto-container__informacion--basica-content");if("American Tourister"==producto.marca){var $templateaT='<div class="logo-marca"><img src=/arquivos/logo-AT.png></div>';$location.prepend($templateaT),$locationMobile.html($templateaT)}else if("Samsonite Black Label"==producto.marca){var $templatesmxBlack='<div class="logo-marca"><img src=/arquivos/logo-sbrNegro-3.png></div>';$location.prepend($templatesmxBlack),$locationMobile.html($templatesmxBlack)}else if("Samsonite"==producto.marca){var $templatesmx='<div class="logo-marca"><img src=/arquivos/logo-sbrAzul-3.png></div>';$location.prepend($templatesmx),$locationMobile.html($templatesmx)}else"Xtrem"==producto.marca&&($templatesmx='<div class="logo-marca"><img src=/arquivos/logo-xtrem.png></div>',$location.prepend($templatesmx),$locationMobile.html($templatesmx))}()}})},carousel:function(el){$(".helperComplement").remove(),$(".producto-container__coleccion .prateleira").children().addClass("carousel-interesar"),$(el).on("init",function(){$(this).addClass("active")}),$(el).slick({autoplay:!0,autoplaySpeed:2500,slide:"li",slidesToScroll:1,slidesToShow:4,speed:500,responsive:[{breakpoint:980,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:650,settings:{slidesToShow:2,slidesToScroll:2}}]}),$(".carousel-interesar, .carousel-agregadoExito").on("beforeChange",function(event,slick,currentSlide,nextSlide){})},accordion:function(trigger,content){var $descripcionLarga=$(".descripcion-larga");$(content).hide(),$(trigger).on("click",function(){return $(this).toggleClass("active").next().slideToggle("slow"),!1}),$descripcionLarga.on("click",function(){return $(trigger).eq(0).toggleClass("active").next().slideToggle("slow"),!1})},compraFichaProducto:function(){var $btnFichaProducto=$(".buy-button.buy-button-ref");$btnFichaProducto.unbind("click"),$btnFichaProducto.bind("click",function(){var param=$(this).attr("href").split("?")[1].split("&"),qtyBox=($(this).attr("href"),parseInt($(".compra-qtd-btn .box-qtd .qtd").val())),item={id:param[0].split("=")[1],quantity:qtyBox,seller:param[2].split("=")[1]};return vtexjs.checkout.addToCart([item],null,1).done(function(orderForm){vtexjs.checkout.getOrderForm().done(function(orderForm){var val=orderForm.value,formatVal=parseFloat(val)/100,valPositive=Math.abs(formatVal),substract=1e3-valPositive,$recentProduct='<div class="recentProduct-container"> <div class="recentProduct-content"></div> <div class="envioGratis"> <p>Agrega otro producto por:<span id="envioGratis">'+(Math.abs(substract).toString()+",00")+"</span>y obtén<strong> envío gratis.</strong></p></div></div>";valPositive>1e3||1e3==valPositive?(console.log("es mayor"),0==$(".recentProductFree-container").length&&($(".recentProduct-container").remove(),$("#agregadoExitoTitle").after('<div class="recentProductFree-container"><div class="recentProduct-contentFree"><h4>¡Felicitaciones, tu envío es gratis!</h4><p>Envío gratis por compras mayor o igual a $1000</p></div></div>'))):valPositive<1e3&&(console.log("es menor"),0==$(".recentProduct-container").length&&($(".recentProductFree-container").remove(),$("#agregadoExitoTitle").after($recentProduct)))}),$("#agregadoExito").foundation("reveal","open"),console.log(orderForm)}),!1})},productoSticky:function(){var $elShow=$(".producto-sticky-container"),$responsive=$(window).width();$responsive>768?(console.log("true"),$(window).scroll(function(){$(this).scrollTop()>800?($elShow.addClass("sticky",500),$elShow.removeClass("fixed")):$elShow.removeClass("sticky fixed",500)})):$responsive<768&&(console.log("NOT true"),$(window).scroll(function(){$(this).scrollTop()>1?($elShow.addClass("sticky",500),$elShow.removeClass("fixed")):$elShow.removeClass("sticky fixed",500)}))},miniatura:function(){!function(){var $el=$(".producto-container__imagen .thumbs li"),$element=$(".producto-container__imagen .thumbs li:eq(0)"),$otherImgs=$(".producto-container__imagen .thumbs li");$el.length>0&&($element.addClass("active"),$otherImgs.each(function(){$(this).on("click",function(){$(this).addClass("active"),$(this).siblings().removeClass("active")})}))}(),function(){var $el=$(".producto-container__imagen .thumbs li"),$init=$(".producto-container__imagen .thumbs");$(window).width()<1024?$el.length>3&&$init.slick({arrows:!0,prevArrow:"<i class='fa fa-angle-left' aria-hidden='true'></i>",nextArrow:"<i class='fa fa-angle-right' aria-hidden='true'></i>",autoplay:!1,button:!1,dots:!1,fade:!1,infinite:!0,slidesToScroll:1,slidesToShow:3,speed:800,useTransform:!0,vertical:!1}):$el.length>3&&$init.slick({arrows:!0,prevArrow:"<i class='fa fa-angle-left' aria-hidden='true'></i>",nextArrow:"<i class='fa fa-angle-right' aria-hidden='true'></i>",autoplay:!1,button:!1,dots:!1,fade:!1,infinite:!0,slidesToScroll:1,slidesToShow:3,speed:800,useTransform:!0,vertical:!0})}()},infoProducto:function(){var $btnCarac=$(".caracteristicas-tab"),$caracActive=$(".caracteristicas-tab, .descripcionCaracteristicas-content"),$btnDescripcion=$(".descripcion-tab"),$descripcionActive=$(".descripcion-tab ,.descripcion-content");$descripcionActive.addClass("active"),$btnCarac.on("click",function(){$caracActive.addClass("active"),$descripcionActive.removeClass("active")}),$btnDescripcion.on("click",function(){$descripcionActive.addClass("active"),$caracActive.removeClass("active")})},tallasColores:function(){$(".basica-tallasColores--colores .prateleira-tallasColores ul li").each(function(){var hrefProducto=window.location,decode=decodeURIComponent(hrefProducto),str=$(this).find(".tallasColores-uri").text();console.log(decode),console.log(str),decode==str&&$(this).addClass("active")}),$(".basica-tallasColores--tallas .prateleira-tallasColores ul li").each(function(){var hrefProducto=window.location,decode=decodeURIComponent(hrefProducto),b=$(this).find(".tallasColores-uri").text(),x=$(this).find(".productImage"),str=x.attr("title").toLowerCase().replace(/\s+/g,"-").split("-").pop();decode==b&&$(this).addClass("active"),$.each([{talla:"cabina",valores:["cabina"]},{talla:"xs",valores:["xs"]},{talla:"p",valores:["p"]},{talla:"s",valores:["s"]},{talla:"m",valores:["m"]},{talla:"l",valores:["l"]},{talla:"g",valores:["g"]},{talla:"xl",valores:["xl"]}],function(i,talla){$.each(talla.valores,function(v,valor){if(str==valor)return"cabina"==talla.talla&&(x.addClass("talla-cabina"),$(".producto-prateleira__imagen--url.talla-cabina").parent(".producto-prateleira__imagen").parent(".producto-prateleira").parent().addClass("talla-cabina-order")),"xs"==talla.talla&&(x.addClass("talla-xs"),$(".producto-prateleira__imagen--url.talla-xs").parent(".producto-prateleira__imagen").parent(".producto-prateleira").parent().addClass("talla-xs-order")),"p"==talla.talla&&(x.addClass("talla-p"),$(".producto-prateleira__imagen--url.talla-p").parent(".producto-prateleira__imagen").parent(".producto-prateleira").parent().addClass("talla-p-order")),"s"==talla.talla&&(x.addClass("talla-s"),$(".producto-prateleira__imagen--url.talla-s").parent(".producto-prateleira__imagen").parent(".producto-prateleira").parent().addClass("talla-s-order")),"m"==talla.talla&&(x.addClass("talla-m"),$(".producto-prateleira__imagen--url.talla-m").parent(".producto-prateleira__imagen").parent(".producto-prateleira").parent().addClass("talla-m-order")),"l"==talla.talla&&(x.addClass("talla-l"),$(".producto-prateleira__imagen--url.talla-l").parent(".producto-prateleira__imagen").parent(".producto-prateleira").parent().addClass("talla-l-order")),"g"==talla.talla&&(x.addClass("talla-g"),$(".producto-prateleira__imagen--url.talla-g").parent(".producto-prateleira__imagen").parent(".producto-prateleira").parent().addClass("talla-g-order")),"xl"==talla.talla&&(x.addClass("talla-xl"),$(".producto-prateleira__imagen--url.talla-xl").parent(".producto-prateleira__imagen").parent(".producto-prateleira").parent().addClass("talla-xl-order")),!1})})}),function(){var $empty=$(".basica-tallasColores--colores:empty, .basica-tallasColores--tallas:empty"),$parent=$(".basica-tallasColores");$empty.length&&$parent.hide()}()}},categDepto={init:function(){$("body.departamento, body.categoria, body.resultado-busca, body.brand").length&&(categDepto.categDeptoAccordion(".search-single-navigator h4,.search-single-navigator h5",".search-single-navigator h3"),categDepto.asideSticky(".content__aside .navigation-tabs, .content__aside .navigation"),categDepto.breadCrumbFilter(),categDepto.infinityScroll(),categDepto.toggleClassMochila(),categDepto.traducciones(),categDepto.filtroSticky(),categDepto.mobilePageChange(),$(".carousel-interesar, .carousel-agregadoExito").on("beforeChange",function(event,slick,currentSlide,nextSlide){}),console.log("controles de categDepto")),"body.departamento, body.categoria, body.resultado-busca, body.estatico.buscavazia, body.resultado-busca.no-encontro.no-encontro-filtros".length?categDepto.errorUndefined():console.log("not mix")},fullWidthCateg:function(){var $responsive=$(window).width(),$categProductsContainer=$(".content__main"),$aside=$(".content__aside"),$categElements=$(".searchResultContainer"),position=$(window).scrollTop(),$effectOut=function(el){return el.fadeOut(500)},$effectIn=function(el){return el.fadeIn(500)};$responsive>650&&$(window).scroll(function(){var scroll=$(window).scrollTop();scroll>position?1==$aside.hasClass("hide")?console.log("not class hide"):$.when($effectOut($categElements)).done(function(){$aside.addClass("hide"),$categProductsContainer.addClass("active"),$effectIn($categElements)}):1==$aside.hasClass("hide")&&$.when($effectOut($categElements)).done(function(){$aside.removeClass("hide"),$categProductsContainer.removeClass("active"),$effectIn($categElements)}),position=scroll})},errorUndefined:function(){var url=window.location.href;url.includes("undefined")&&($(window).on("open.fndtn.reveal",function(){setTimeout(function(){document.location.href="/"},800)}),$("#errorUndefined").foundation("reveal","open")),console.log(url)},filtroSticky:function(){var $elShow=$(".categoria-container__content .content__main--filtroBtnMobile .btn");$(window).width()<768&&$(window).scroll(function(){$(this).scrollTop()>1?($elShow.addClass("sticky",500),$elShow.removeClass("fixed")):($elShow.removeClass("sticky",500),$elShow.removeClass("fixed"))})},toggleClassMochila:function(){window.location.pathname.indexOf("/mochilas")>-1&&$("body").addClass("mochila")},traducciones:function(){$(".HideFaixa-de-preco:contains('Faixa de preço'), .Faixa-de-preco:contains('Faixa de preço')"),$(".ver-filtros:contains('Veja todas as opções')");$(".resultado-busca-numero .label:contains('Produtos encontrados')").text("Productos encontrados:")},mobilePageChange:function(){$(window).width()<650&&$(window).bind("hashchange",function(){console.log("cambio"),$(".back-to-top").click(),setTimeout(function(){confiGenerales.wishlistOnclick(),confiGenerales.compraAsyncVitrina()},2e3)})},categDeptoAccordion:function(trigger,secondTrigger){if($(".departamento, .categoria, .resultado-busca").length){var $open=$(".HideGRUPO-DE-COR"),$marca=$(".navigation-tabs .Marca, .navigation-tabs h5.Hide.HideMarca"),$activeColor=$(".HideGrupo-color ,.Grupo-color.even, .Grupo-color.Atributos, .Grupo-color,.Grupo-color.even.Características"),$activeColorUl=$(".HideGrupo-color ,.Grupo-color.even, .Grupo-color.Atributos, .Grupo-color,.Grupo-color.even.Características").next(),$otherMenuOpen=$(".Hide.even.Atributos.HideGRUPO-DE-COR, .Hide.even.Características.HideESTRUTURA,.ESTRUTURA, .Hide.even.Características.HideGRUPO-DE-COR, .Hide.Atributos.HideTalla,.Hide.Atributos.HideColeccion"),$verFiltros=$(".navigation-tabs .search-single-navigator ul").find(".ver-filtros");$(trigger).next().hide(),$(secondTrigger).next().hide(),$(secondTrigger).next().next().hide(),$(trigger).on("click",function(){return $(this).toggleClass("active").next().slideToggle("slow"),$(".content__aside .HideGrupo-color.active").length||$(".content__main .HideGrupo-color.active").length?(console.log("true"),$activeColorUl.css({display:"flex","flex-flow":"row wrap","justify-content":"flex-start"})):console.log("false"),!1}),$(secondTrigger).on("click",function(){return $(this).toggleClass("active").nextAll("h4,.filtro-ativo").slideToggle("slow"),!1}),$verFiltros.length&&$verFiltros.parent().prev().addClass("selected").next().slideDown(),$otherMenuOpen.addClass("active").next().slideToggle("slow"),$open.hasClass("active")&&$activeColor.css({display:"flex","flex-flow":"row wrap","justify-content":"flex-start"}),$marca.css({display:"block"})}},asideSticky:function(trigger){var files=["/arquivos/hc-sticky.min.js"];$.when.apply($,$.map(files,function(file){return $.getScript(files)})).then(function(){$(trigger).hcSticky({top:110,bottomEnd:100,responsive:!0})},function(jqxhr,textStatus,errorThrown){})},breadCrumbFilter:function(){$(".busca-texto-livre-elimina").parent().addClass("breadcrumb__busca")},infinityScroll:function(){var files=["/arquivos/QD_infinityScroll.min.js"];$.when.apply($,$.map(files,function(file){return $.getScript(files)})).then(function(){console.log("cargo el infinity");$(window).width();$(".prateleira[id*=ResultItems]").QD_infinityScroll({lastShelf:">div:last",elemLoading:'<!-- Infinity Scroll - Loading message --><div id="scrollLoading" class="qd-is-loading">Cargando...</div>',searchUrl:null,scrollBy:document,callback:function(){console.log("se cargaron más productos desktop"),confiGenerales.replaceHref(),confiGenerales.wishlistOnclick(),confiGenerales.compraAsyncVitrina(),confiGenerales.cuotas()},getShelfHeight:function($this){return $this.scrollTop()+$this.height()},paginate:null,insertContent:function(currentItems,ajaxData){currentItems.after(ajaxData)},authorizeScroll:function(){return!0}})},function(jqxhr,textStatus,errorThrown){})}},estatico={init:function(){$(".estatico").length&&(estatico.asideEstaticoSticky(".estatico-content__menu-lateral nav"),estatico.vcForm(),console.log("control estaticas cargado =P "))},asideEstaticoSticky:function(trigger){var files=["/arquivos/hc-sticky.min.js"];$.when.apply($,$.map(files,function(file){return $.getScript(files)})).then(function(){$(trigger).hcSticky({top:110,bottomEnd:100,responsive:!0})},function(jqxhr,textStatus,errorThrown){})},vcForm:function(){var $inputs=$(".vc__checkbox-container input"),$vcPersona=$(".vc__persona,.vc__introPass"),$vcEmpresa=($(".vc__persona:visible,.vc__introPass"),$(".vc__empresa,.vc__introPass")),$intro=($(".vc__empresa:visible,.vc__introPass"),$(".vc__volver"),$(".vc__intro-select")),$effectOut=function(el){return el.fadeOut(500)},$effectIn=function(el){return el.fadeIn(500).css("display","flex")};$inputs.on("click",function(){var $this=$(this);"natural"==$this.attr("name")?$.when($effectOut($intro)).done(function(){$effectIn($vcPersona)}):"juridica"==$this.attr("name")&&$.when($effectOut($intro)).done(function(){$effectIn($vcEmpresa)})})}},regiones=[],comunas=[],country="CHL",account={init:function(){$("body.account").length&&(account.loadRegionComuna(),account.addresUpdate(),account.addresDeletePop(),account.addresDeleteClick(),account.showContentAccount(),$("#formAddressNew").submit(function(e){e.preventDefault(),account.createAddress()}),console.log("controles generales"))},traducciones:function(){var $miPerfil=$(".account h4:contains('Meu Perfil')"),$telefono=$(".account .profile-detail-display-info .title:contains('Telefone:')"),$dataNasc=$(".account .profile-detail-display-info .title:contains('Data de nascimento:')"),$alterarDatos=$(".account .edit.edit-profile-link a:contains('Alterar dados')"),$apellido=$(".profile-detail-display-nickname .title:contains('Apelido:')");($telefono=$(".profile-detail-display-cellphone .title:contains('Telefone Comercial')")).text("Teléfono: "),$dataNasc.text("Fecha de nacimiento: "),$alterarDatos.text("Alterar datos "),$miPerfil.text("Mi Perfil "),$apellido.text("Apellido: "),$telefono.text("Teléfono Comercial: ")},loadRegionComuna:function(){$.ajax({type:"GET",dataType:"html",url:"https://io.vtex.com.br/front.shipping-data/2.12.6/script/rule/CountryCHL.js",success:function(response){var data=response.split("this.map="),json=data[1].split("}}")[0];json=(json=(json=(json=(json+="}}").split('"').join("")).split("{").join('{"')).split(":").join('":')).split(",").join(',"'),data=$.parseJSON(json);for(region in data){regiones.push({id:region,nombre:region});for(comuna in data[region])comunas.push({id:comuna,id_region:region,nombre:comuna,codigo:data[region][comuna]})}$.each(regiones,function(index,value){0==index&&($("#cmbRegion").append(new Option("-- Seleccione una Región --","")),$("#cmbComuna").append(new Option("-- Seleccione una Comuna --",""))),$("#cmbRegion").append(new Option(value.nombre,value.id))}),$("#cmbRegion").change(function(){var id=$(this).val();$("#cmbComuna").find("option").remove().end().append(new Option("-- Seleccione una Comuna --","")),void 0!=id&&null!=id&&""!=id&&($.each(comunas,function(index,value){value.id_region==id&&$("#cmbComuna").append(new Option(value.nombre,value.codigo))}),$("#cmbComuna").change(function(){if(""!=$(this).val()){var comuna=comunas.filter(function(element){return element.codigo===$(this).val()});$("#spnNombreComuna").text(comuna.nombre)}}))})}})},createAddress:function(){var country=$("meta[name='country']").attr("content"),addressName=$("#aliasDireccion").val(),receiverName=$("#destinatario").val(),postalCode=$("#cmbComuna").val(),street=$("#direccion").val(),number=$("#numeroDireccion").val(),city=$("#spnNombreComuna").text(),dataString=(country=$("#country").val(),"addressName="+addressName+"&receiverName="+receiverName+"&addressType=1&postalCode="+postalCode+"&street="+street+"&number="+number+"&complement="+$("#pisoDireccion").val()+"&reference=-&neighborhood=-&city="+city+"&state="+$("#cmbRegion").val()+"&country="+country+"&userId="+$("#userId").val()+"&addressId="+$("#addressId").val());$.ajax({type:"POST",url:"/no-cache/account/address/save",data:dataString,success:function(data){$("#addressAprob").foundation("open"),$(document).click(function(){location.reload()})},error:function(data){$("#addressError").foundation("open"),$(document).click(function(){location.reload()})}})},addresUpdate:function(){$(".address-update").on("click",function(){var addressName=$(this).attr("data-addressname");""==addressName?($("#aliasDireccion").val(""),$("#destinatario").val(""),$("1"),$("#cmbComuna").val(""),$("#direccion").val(""),$("#numeroDireccion").val(""),$("#pisoDireccion").val(""),$("-"),$("-"),$("span#spnNombreComuna").text(),$("#cmbRegion").val(""),$("#addressId").val("")):$.ajax({dataType:"json",url:"/no-cache/account/address/detail/"+addressName,success:function(data){$("#aliasDireccion").val(data.addressName),$("#destinatario").val(data.receiverName),$("1"),$("#cmbComuna").val(data.city),$("#direccion").val(data.street),$("#numeroDireccion").val(data.number),$("#pisoDireccion").val(data.complement),$("-"),$("-"),$("span#spnNombreComuna").text(data.spnNombreComuna),$("#cmbRegion").val(data.state),$("#addressId").val(encodeURIComponent(data.addressName))},error:function(){$("#addressError").foundation("open"),$(document).click(function(){location.reload()})}})})},addresDeletePop:function(){$(".delete").on("click",function(){var addressName=$(this).attr("data-addressname"),replaced="Desea eliminar esta direccion: "+addressName+"?";$("#exclude-message").html(replaced),$("#address-delete").attr("data-addressname",addressName)})},addresDeleteClick:function(){$("#address-delete").on("click",function(){var addressName=$(this).attr("data-addressname");""==addressName?($("#addressError").foundation("open"),$(document).click(function(){location.reload()})):$.ajax({type:"GET",url:"/no-cache/account/address/delete/"+addressName,success:function(){$("#addressDelete").foundation("open"),$(document).click(function(){location.reload()})},error:function(){$("#addressError").foundation("open"),$(document).click(function(){location.reload()})}})})},showContentAccount:function(){$(".edit-profile-link a").attr("data-open","editar-perfil").removeAttr("id").removeAttr("data-toggle"),$("#editar-perfil").attr("data-reveal","").attr("class","reveal-modal medium").attr("data-reveal-ajax","true").removeAttr("tabindex").removeAttr("style"),$(".modal-header button").attr("class","close-reveal-modal").attr("data-close","").attr("aria-label","Close").removeAttr("data-dismiss"),$(".edit-profile-link a").on("click",function(){$("#editar-perfil").foundation("reveal","open")}),$("#profile .save-cancel-buttons button").attr("data-close","").attr("aria-label","Close modal").attr("class","close-reveal-modal"),$(".new-address-link a, .edit-address-link a.address-update").attr("data-open","AddressNew").removeAttr("id").removeAttr("data-toggle").removeAttr("href"),$("#form-address .save-cancel-buttons button").attr("data-close","").attr("aria-label","Close modal").attr("class","close-reveal-modal"),$("#addressName").keyup(function(){var value=$(this).val();$("#receiverName").val(value),$("#city").val(value)}),$(".edit-address-link a.delete").attr("href","#").attr("data-open","address-remove").removeAttr("id").removeAttr("data-toggle"),$("#address-remove").attr("data-reveal","").attr("class","reveal-modal medium").attr("data-reveal-ajax","true").removeAttr("tabindex").removeAttr("style"),$(".edit-address-link a.delete").on("click",function(){$("#address-remove").foundation("reveal","open")}),$("#exclude .save-cancel-buttons button").attr("data-close","").attr("aria-label","Close modal"),$(".save-cancel-buttons input#profile-submit, .save-cancel-buttons button.btn-link").addClass("trsn"),$("#address-delete").on("click",function(){var addressName=$(this).attr("data-addressname");""==addressName?($("#exclude").css("visibility","hidden"),$("#address-remove").html("<h4>Ha ocurrido un error (addressName). Por favor, intenta nuevamente.</h4>"),$("#address-remove").fadeOut(3500,function(){location.reload()})):$.ajax({type:"GET",url:"/no-cache/account/address/delete/"+addressName,success:function(){$("#exclude").css("visibility","hidden"),$("#address-remove").html("<h4>Dirección eliminada con éxito!</h4>"),$("#address-remove").fadeOut(2200,function(){location.reload()})},error:function(){$("#exclude").css("visibility","hidden"),$("#address-remove").html("<h4>Ha ocurrido un error inesperado. Por favor, intenta nuevamente.</h4>"),$("#address-remove").fadeOut(3500,function(){location.reload()})}})}),$(".address-label").text("Nueva Dirección"),$(".delete").on("click",function(){var addressName=$(this).attr("data-addressname"),replaced="Realmente desea eliminar esta dirección "+addressName+"?";$("#exclude-message").html(replaced),$("#address-delete").attr("data-addressname",addressName)}),console.log("controles para edicion de cuenta")}},wishlist={init:function(){$(".wishlist").length&&(wishlist.traducciones(),console.log("controles de wishlist =)"))},traducciones:function(){var $crearLista=$("[href='/giftlist/create/']:contains('Crear una nueva Lista')"),$administrarListas=$("[href='/giftlist/manage/']:contains('gerenciar listas')"),$desired=$(".giftlist-header-desired:contains('Produtos Desejados')"),$precio=$(".giftlistproductsv2 thead tr th:contains('Preço')"),$deseados=$(".giftlistproductsv2 thead tr th:contains('Desejados')"),$acciones=$(".giftlistproductsv2 thead tr th:contains('Ações')"),$volverAtras=$("[href='javascript:history.back()']:contains('Voltar')");$crearLista.text("Crear una nueva Lista"),$administrarListas.text("Administrar Listas"),$volverAtras.text("Volver atrás"),$desired.text("Productos deseados"),$precio.text("Precio"),$deseados.text("Deseados"),$acciones.text("Acciones")}};